import React, { useState } from "react";
import { useVolumeControl } from "./context/VolumeControlContext";

const Sound = () => {
  const { volume, updateVolume } = useVolumeControl();
  const [progress, setProgress] = useState(volume * 100);

  const handleVolumeChange = (event: React.ChangeEvent<HTMLInputElement>) => {
    const newVolume = parseFloat(event.target.value) / 100;
    updateVolume(newVolume);
    setProgress(newVolume * 100);
  };
  return (
    <div className="h-full w-full flex items-center justify-center flex-col gap-3vw">
      <div className="bg-gradient-to-br from-[#FA7F00] via-[#FEE969] to-[#FA7F00] p-0-08vw rounded-2xl">
        <div className="bg-gradient-to-b from-[#000000B2] to-[#933710B2] text-center flex gap-0-5vw rounded-2xl px-1-2vw py-0-08vw items-center justify-center">
          <p className="text-1-5vw">Music</p>
          <svg
            width="33"
            height="32"
            viewBox="0 0 33 32"
            fill="none"
            className="h-[50%] w-[30%]"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M20.5 4.03125V27.9612C20.503 28.1403 20.4596 28.3171 20.374 28.4744C20.2883 28.6317 20.1633 28.7641 20.0112 28.8587C19.8384 28.9615 19.6386 29.0098 19.4379 28.9974C19.2373 28.9849 19.045 28.9122 18.8862 28.7887L10.69 22.4137C10.6306 22.3668 10.5826 22.307 10.5497 22.2387C10.5168 22.1705 10.4998 22.0957 10.5 22.02V9.98C10.5002 9.90395 10.5178 9.82896 10.5514 9.76073C10.5849 9.6925 10.6336 9.63283 10.6938 9.58625L18.89 3.21125C19.0696 3.07206 19.2913 2.9982 19.5185 3.00184C19.7457 3.00547 19.9649 3.08639 20.14 3.23125C20.255 3.33004 20.3469 3.45291 20.4091 3.59117C20.4713 3.72942 20.5023 3.87966 20.5 4.03125ZM8 10H4.5C3.96957 10 3.46086 10.2107 3.08579 10.5858C2.71071 10.9609 2.5 11.4696 2.5 12V20C2.5 20.5304 2.71071 21.0391 3.08579 21.4142C3.46086 21.7893 3.96957 22 4.5 22H8C8.13261 22 8.25979 21.9473 8.35355 21.8536C8.44732 21.7598 8.5 21.6326 8.5 21.5V10.5C8.5 10.3674 8.44732 10.2402 8.35355 10.1464C8.25979 10.0527 8.13261 10 8 10ZM25.25 12.695C25.1639 12.5941 25.0585 12.5114 24.9401 12.4516C24.8217 12.3919 24.6925 12.3563 24.5602 12.3469C24.4279 12.3376 24.295 12.3546 24.1694 12.3971C24.0437 12.4396 23.9277 12.5066 23.8282 12.5943C23.7287 12.6821 23.6477 12.7887 23.5898 12.9081C23.5319 13.0274 23.4984 13.1571 23.4911 13.2895C23.4838 13.422 23.5029 13.5546 23.5474 13.6795C23.5918 13.8045 23.6607 13.9194 23.75 14.0175C24.2323 14.5653 24.4984 15.2701 24.4984 16C24.4984 16.7299 24.2323 17.4347 23.75 17.9825C23.6607 18.0806 23.5918 18.1955 23.5474 18.3205C23.5029 18.4454 23.4838 18.578 23.4911 18.7105C23.4984 18.8429 23.5319 18.9726 23.5898 19.0919C23.6477 19.2113 23.7287 19.3179 23.8282 19.4057C23.9277 19.4934 24.0437 19.5604 24.1694 19.6029C24.295 19.6454 24.4279 19.6624 24.5602 19.6531C24.6925 19.6437 24.8217 19.6081 24.9401 19.5483C25.0585 19.4886 25.1639 19.4059 25.25 19.305C26.0543 18.3919 26.4981 17.2168 26.4981 16C26.4981 14.7832 26.0543 13.6081 25.25 12.695Z"
              fill="#343330"
            />
            <path
              d="M20.5 4.03125V27.9612C20.503 28.1403 20.4596 28.3171 20.374 28.4744C20.2883 28.6317 20.1633 28.7641 20.0112 28.8587C19.8384 28.9615 19.6386 29.0098 19.4379 28.9974C19.2373 28.9849 19.045 28.9122 18.8862 28.7887L10.69 22.4137C10.6306 22.3668 10.5826 22.307 10.5497 22.2387C10.5168 22.1705 10.4998 22.0957 10.5 22.02V9.98C10.5002 9.90395 10.5178 9.82896 10.5514 9.76073C10.5849 9.6925 10.6336 9.63283 10.6938 9.58625L18.89 3.21125C19.0696 3.07206 19.2913 2.9982 19.5185 3.00184C19.7457 3.00547 19.9649 3.08639 20.14 3.23125C20.255 3.33004 20.3469 3.45291 20.4091 3.59117C20.4713 3.72942 20.5023 3.87966 20.5 4.03125ZM8 10H4.5C3.96957 10 3.46086 10.2107 3.08579 10.5858C2.71071 10.9609 2.5 11.4696 2.5 12V20C2.5 20.5304 2.71071 21.0391 3.08579 21.4142C3.46086 21.7893 3.96957 22 4.5 22H8C8.13261 22 8.25979 21.9473 8.35355 21.8536C8.44732 21.7598 8.5 21.6326 8.5 21.5V10.5C8.5 10.3674 8.44732 10.2402 8.35355 10.1464C8.25979 10.0527 8.13261 10 8 10ZM25.25 12.695C25.1639 12.5941 25.0585 12.5114 24.9401 12.4516C24.8217 12.3919 24.6925 12.3563 24.5602 12.3469C24.4279 12.3376 24.295 12.3546 24.1694 12.3971C24.0437 12.4396 23.9277 12.5066 23.8282 12.5943C23.7287 12.6821 23.6477 12.7887 23.5898 12.9081C23.5319 13.0274 23.4984 13.1571 23.4911 13.2895C23.4838 13.422 23.5029 13.5546 23.5474 13.6795C23.5918 13.8045 23.6607 13.9194 23.75 14.0175C24.2323 14.5653 24.4984 15.2701 24.4984 16C24.4984 16.7299 24.2323 17.4347 23.75 17.9825C23.6607 18.0806 23.5918 18.1955 23.5474 18.3205C23.5029 18.4454 23.4838 18.578 23.4911 18.7105C23.4984 18.8429 23.5319 18.9726 23.5898 19.0919C23.6477 19.2113 23.7287 19.3179 23.8282 19.4057C23.9277 19.4934 24.0437 19.5604 24.1694 19.6029C24.295 19.6454 24.4279 19.6624 24.5602 19.6531C24.6925 19.6437 24.8217 19.6081 24.9401 19.5483C25.0585 19.4886 25.1639 19.4059 25.25 19.305C26.0543 18.3919 26.4981 17.2168 26.4981 16C26.4981 14.7832 26.0543 13.6081 25.25 12.695Z"
              fill="url(#paint0_linear_216_3255)"
            />
            <defs>
              <linearGradient
                id="paint0_linear_216_3255"
                x1="7.96408"
                y1="28.9993"
                x2="22.7172"
                y2="3.99467"
                gradientUnits="userSpaceOnUse"
              >
                <stop stopColor="#FA7F00" />
                <stop offset="0.500426" stopColor="#FEE969" />
                <stop offset="1" stopColor="#FA7F00" />
              </linearGradient>
            </defs>
          </svg>
        </div>
      </div>
      <div className="flex items-center justify-center gap-[2vw] landscape:w-[25vw] portrait:w-[25vh]">
        <div className="relative flex items-center w-full landscape:h-[1.5vw] portrait:h-[3.5vw]">
          <input
            type="range"
            min="0"
            max="100"
            step="1"
            value={volume * 100}
            onChange={handleVolumeChange}
            className="slider"
            id="music"
          />
          <progress
            value={progress}
            id="progress"
            max="100"
            className="absolute appearance-none portrait:w-[85%] landscape:w-[83%] ml-[0.3vw] z-[2] h-[50%] top-auto left-auto  rounded-[2vw] progress"
          ></progress>
        </div>
      </div>
    </div>
  );
};

export default Sound;
